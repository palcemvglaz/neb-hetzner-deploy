import { notFound } from 'next/navigation'
import Link from 'next/link'
import { getServerSession } from 'next-auth'
import { authOptions } from '@/lib/auth'
import { prisma } from '@/lib/db/prisma'
import { 
  Clock, BookOpen, Users, Star, Award, Play, 
  CheckCircle, Lock, ChevronDown, ChevronUp,
  BarChart, Target, Shield, Zap, AlertCircle
} from 'lucide-react'
import CoursePageClient from './course-page-client'

interface CoursePageProps {
  params: { slug: string }
}

async function getCourse(slug: string) {
  const course = await prisma.course.findUnique({
    where: { slug },
    include: {
      translations: {
        where: { language: 'UA' }
      },
      sections: {
        include: {
          items: {
            include: {
              content: true // Include content to get real titles
            },
            orderBy: { order: 'asc' }
          }
        },
        orderBy: { order: 'asc' }
      },
      enrollments: {
        select: { id: true }
      },
      reviews: {
        select: { rating: true }
      }
    }
  })

  return course
}

async function getUserProgress(courseId: string, userId: string) {
  // For now, return empty progress as lesson structure needs refactoring
  const progress: any[] = []

  return progress
}

export default async function CoursePage({ params }: CoursePageProps) {
  const session = await getServerSession(authOptions)
  const course = await getCourse(params.slug)

  if (!course) {
    notFound()
  }

  // Get user enrollment and progress if logged in
  let enrollment = null
  let userProgress = []
  
  if (session?.user) {
    enrollment = await prisma.enrollment.findUnique({
      where: {
        userId_courseId: {
          userId: session.user.id,
          courseId: course.id
        }
      }
    })

    if (enrollment) {
      userProgress = await getUserProgress(course.id, session.user.id)
    }
  }

  // Calculate course statistics
  const totalLessons = course.sections.reduce((acc, section) => 
    acc + section.items.length, 0
  )
  
  const completedLessons = userProgress.filter(p => p.isCompleted).length
  const progress = totalLessons > 0 ? Math.round((completedLessons / totalLessons) * 100) : 0

  const averageRating = course.reviews.length > 0
    ? course.reviews.reduce((acc, r) => acc + r.rating, 0) / course.reviews.length
    : 0

  const totalDuration = course.sections.reduce((acc, section) => 
    acc + section.items.reduce((lAcc, item) => lAcc + 0, 0), 0 // Items don't have duration property
  )

  // Get course-specific data based on slug
  const getCourseData = (slug: string) => {
    switch(slug) {
      case 'motorcycle-safety-concepts':
        return {
          title: "8 ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ‚Ñ–Ð² Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð°",
          description: "ðŸ’€ Ð¤Ð£ÐÐ”ÐÐœÐ•ÐÐ¢ÐÐ›Ð¬ÐÐ† Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð¸, ÑÐºÑ– Ð²Ñ–Ð´Ð¾ÐºÑ€ÐµÐ¼Ð»ÑŽÑŽÑ‚ÑŒ Ð¶Ð¸Ð²Ð¸Ñ… Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ñ–Ð² Ð²Ñ–Ð´ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸. Ð—Ð°ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð½Ð° Ð°Ð½Ð°Ð»Ñ–Ð·Ñ– 10,000+ Ð°Ð²Ð°Ñ€Ñ–Ð¹.",
          longDescription: `ðŸš¨ Ð£Ð’ÐÐ“Ð: Ð¦ÐµÐ¹ ÐºÑƒÑ€Ñ ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ñ– Ð°Ð½Ð°Ð»Ñ–Ð·Ñƒ 10,000+ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¸Ñ… Ð°Ð²Ð°Ñ€Ñ–Ð¹!

ðŸ’€ Ð¨ÐžÐšÐ£Ð®Ð§Ð Ð¡Ð¢ÐÐ¢Ð˜Ð¡Ð¢Ð˜ÐšÐ:
â€¢ 87% Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ñ–Ð² Ð¿Ð¾Ñ‚Ñ€Ð°Ð¿Ð»ÑÑŽÑ‚ÑŒ Ð² Ð°Ð²Ð°Ñ€Ñ–Ñ— Ð² Ð¿ÐµÑ€ÑˆÑ– 2 Ñ€Ð¾ÐºÐ¸
â€¢ 94% Ð°Ð²Ð°Ñ€Ñ–Ð¹ Ð¼Ð¾Ð¶Ð½Ð° Ð±ÑƒÐ»Ð¾ ÑƒÐ½Ð¸ÐºÐ½ÑƒÑ‚Ð¸, Ð·Ð½Ð°ÑŽÑ‡Ð¸ Ñ†Ñ– 8 ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ‚Ñ–Ð²
â€¢ ÐœÐ¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð¸ Ð² 27 Ñ€Ð°Ð·Ñ–Ð² Ñ‡Ð°ÑÑ‚Ñ–ÑˆÐµ Ð³Ð¸Ð½ÑƒÑ‚ÑŒ Ð½Ð° Ð´Ð¾Ñ€Ð¾Ð·Ñ– Ð½Ñ–Ð¶ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ñ–Ð»Ñ–ÑÑ‚Ð¸

âŒ Ð©Ðž ÐÐ• ÐŸÐ ÐÐ¦Ð®Ð„:
âŒ ÐœÐ¾Ñ‚Ð¾ÑˆÐºÐ¾Ð»Ð¸ Ð½Ð°Ð²Ñ‡Ð°ÑŽÑ‚ÑŒ ÐºÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸, Ð°Ð»Ðµ ÐÐ• Ð½Ð°Ð²Ñ‡Ð°ÑŽÑ‚ÑŒ Ð²Ð¸Ð¶Ð¸Ð²Ð°Ñ‚Ð¸
âŒ "Ð‘ÑƒÑ‚Ð¸ Ð¾Ð±ÐµÑ€ÐµÐ¶Ð½Ð¸Ð¼" - ÐÐ• ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ñ–Ñ
âŒ ÐŸÐ¾ÐºÐ»Ð°Ð´Ð°Ñ‚Ð¸ÑÑ Ð½Ð° ÑƒÐ´Ð°Ñ‡Ñƒ Ñ‚Ð° "Ð¼Ð¾Ð¶Ðµ Ð¿Ñ€Ð¾Ð½ÐµÑÐµ"

âœ… Ð©Ðž ÐÐÐ¡ÐŸÐ ÐÐ’Ð”Ð† ÐŸÐ ÐÐ¦Ð®Ð„ - 8 ÐšÐžÐÐ¦Ð•ÐŸÐ¢Ð†Ð’:
ðŸŽ¯ VISION - Ð‘Ð°Ñ‡Ð¸Ñ‚Ð¸ Ð½ÐµÐ±ÐµÐ·Ð¿ÐµÐºÑƒ Ð”Ðž Ð·Ñ–Ñ‚ÐºÐ½ÐµÐ½Ð½Ñ
âš¡ SPEED - Ð¨Ð²Ð¸Ð´ÐºÑ–ÑÑ‚ÑŒ ÑÐº Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸
ðŸ›¡ï¸ SPACE - Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð·Ð°Ñ…Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ€Ñƒ
âš–ï¸ STABILITY - ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð² ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–ÑÑ…
ðŸ§  CONCENTRATION - ÐœÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð° Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ñ–Ð½Ð°
ðŸ’ª RESPONSIBILITY - ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ð° Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ
ðŸŽ² STRATEGY - Ð¢Ð°ÐºÑ‚Ð¸Ñ‡Ð½Ðµ Ð¼Ð¸ÑÐ»ÐµÐ½Ð½Ñ
ðŸ”¥ SURVIVAL - Ð†Ð½ÑÑ‚Ð¸Ð½ÐºÑ‚ ÑÐ°Ð¼Ð¾Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð½Ñ

ðŸ”¥ Ð©Ðž Ð’Ð˜ ÐžÐ¢Ð Ð˜ÐœÐÐ„Ð¢Ð•:
â€¢ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ñƒ Ñ€Ð°Ð½Ð½ÑŒÐ¾Ð³Ð¾ Ð²Ð¸ÑÐ²Ð»ÐµÐ½Ð½Ñ Ð½ÐµÐ±ÐµÐ·Ð¿ÐµÐº (Ð·Ð° 5-7 ÑÐµÐºÑƒÐ½Ð´ Ð´Ð¾ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾Ñ— ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–Ñ—)
â€¢ ÐœÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñ– Ð¼Ð¾Ð´ÐµÐ»Ñ– Ð´Ð»Ñ Ð¼Ð¸Ñ‚Ñ‚Ñ”Ð²Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð¹Ð½ÑÑ‚Ñ‚Ñ Ñ€Ñ–ÑˆÐµÐ½ÑŒ
â€¢ Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ñ–Ñ— Ð¿Ð¾Ð·Ð¸Ñ†Ñ–Ð¾Ð½ÑƒÐ²Ð°Ð½Ð½Ñ, Ñ‰Ð¾ Ñ€Ð¾Ð±Ð»ÑÑ‚ÑŒ Ð²Ð°Ñ "Ð½ÐµÐ²Ð¸Ð´Ð¸Ð¼Ð¸Ð¼" Ð´Ð»Ñ Ð°Ð²Ð°Ñ€Ñ–Ð¹
â€¢ Ð¢ÐµÑ…Ð½Ñ–ÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ Ñ€Ð¸Ð·Ð¸ÐºÐ°Ð¼Ð¸ Ð½Ð° 90%+

ðŸ’° Ð’ÐÐ Ð¢Ð†Ð¡Ð¢Ð¬ ÐŸÐžÐœÐ˜Ð›ÐšÐ˜: $10,000-100,000+ (Ð»Ñ–ÐºÑƒÐ²Ð°Ð½Ð½Ñ) + Ð²Ð°ÑˆÐµ Ð¶Ð¸Ñ‚Ñ‚Ñ
ðŸ’° Ð’ÐÐ Ð¢Ð†Ð¡Ð¢Ð¬ ÐšÐ£Ð Ð¡Ð£: Ð‘Ð•Ð—ÐšÐžÐ¨Ð¢ÐžÐ’ÐÐž

âš¡ Ð“ÐÐ ÐÐÐ¢ÐžÐ’ÐÐÐ˜Ð™ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð—Ð¼ÐµÐ½ÑˆÐµÐ½Ð½Ñ Ñ€Ð¸Ð·Ð¸ÐºÑƒ Ð°Ð²Ð°Ñ€Ñ–Ñ— Ð½Ð° 94% Ð°Ð±Ð¾ Ð²Ð°ÑˆÑ– Ð³Ñ€Ð¾ÑˆÑ– Ð½Ð°Ð·Ð°Ð´!`,
          category: 'Ð¤ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð° Ð±ÐµÐ·Ð¿ÐµÐºÐ°',
          whatYouLearn: [
            'ðŸŽ¯ VISION: Ð¡Ð¸ÑÑ‚ÐµÐ¼Ñƒ ÑÐºÐ°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ Ð´Ð¾Ñ€Ð¾Ð³Ð¸ Ñ‚Ð° Ñ€Ð°Ð½Ð½ÑŒÐ¾Ð³Ð¾ Ð²Ð¸ÑÐ²Ð»ÐµÐ½Ð½Ñ Ð½ÐµÐ±ÐµÐ·Ð¿ÐµÐº',
            'âš¡ SPEED: Ð¯Ðº Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ ÑˆÐ²Ð¸Ð´ÐºÑ–ÑÑ‚ÑŒ ÑÐº Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸, Ð° Ð½Ðµ Ð·Ð°Ð³Ñ€Ð¾Ð·Ñƒ',
            'ðŸ›¡ï¸ SPACE: Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ñ‚Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ Ð·Ð°Ñ…Ð¸ÑÐ½Ð¸Ð¼ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¼ Ð½Ð°Ð²ÐºÐ¾Ð»Ð¾ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð°',
            'âš–ï¸ STABILITY: ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽ Ð² ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… Ñ‚Ð° Ð½ÐµÑÐ¿Ð¾Ð´Ñ–Ð²Ð°Ð½Ð¸Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–ÑÑ…',
            'ðŸ§  CONCENTRATION: ÐœÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñƒ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ñ–Ð½Ñƒ Ñ‚Ð° Ñ„Ð¾ÐºÑƒÑ Ð´Ð»Ñ Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ð¸Ñ… Ð¿Ð¾Ñ—Ð·Ð´Ð¾Ðº',
            'ðŸ’ª RESPONSIBILITY: ÐŸÑ€Ð¸Ð¹Ð½ÑÑ‚Ñ‚Ñ 100% Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ñ– Ð·Ð° ÑÐ²Ð¾ÑŽ Ð±ÐµÐ·Ð¿ÐµÐºÑƒ',
            'ðŸŽ² STRATEGY: Ð¢Ð°ÐºÑ‚Ð¸Ñ‡Ð½Ðµ Ð¿Ð»Ð°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñƒ Ñ‚Ð° Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·ÑƒÐ²Ð°Ð½Ð½Ñ Ñ€Ð¸Ð·Ð¸ÐºÑ–Ð²',
            'ðŸ”¥ SURVIVAL: Ð Ð¾Ð·Ð²Ð¸Ñ‚Ð¾Ðº Ñ–Ð½ÑÑ‚Ð¸Ð½ÐºÑ‚Ñƒ ÑÐ°Ð¼Ð¾Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð½Ñ Ñ‚Ð° ÑˆÐ²Ð¸Ð´ÐºÐ¾Ð³Ð¾ Ñ€ÐµÐ°Ð³ÑƒÐ²Ð°Ð½Ð½Ñ'
          ],
          requirements: [
            'ðŸï¸ Ð‘Ð°Ð·Ð¾Ð²Ñ– Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸ ÐºÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð¾Ð¼ (Ð·Ð´Ð°Ð½Ð¾ Ð½Ð° Ð¿Ñ€Ð°Ð²Ð°)',
            'ðŸ§  Ð“Ð¾Ñ‚Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŒ Ð·Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ ÑÐ²Ñ–Ð¹ Ð¿Ñ–Ð´Ñ…Ñ–Ð´ Ð´Ð¾ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ (50% ÑƒÑÐ¿Ñ–Ñ…Ñƒ)',
            'ðŸ’€ Ð Ð¾Ð·ÑƒÐ¼Ñ–Ð½Ð½Ñ, Ñ‰Ð¾ "Ð¼Ð¾Ð¶Ðµ Ð¿Ñ€Ð¾Ð½ÐµÑÐµ" - ÐÐ• ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ñ–Ñ Ð²Ð¸Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ',
            'â° 2-3 Ð³Ð¾Ð´Ð¸Ð½Ð¸ Ð´Ð»Ñ Ð²Ð¸Ð²Ñ‡ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ‚Ñ–Ð², ÑÐºÑ– Ð²Ñ€ÑÑ‚ÑƒÑŽÑ‚ÑŒ Ð¶Ð¸Ñ‚Ñ‚Ñ'
          ]
        };
      case 'critical-riding-skills':
        return {
          title: "ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ– Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð°",
          description: "âš¡ Ð¢Ð•Ð¥ÐÐ†Ð§ÐÐ† Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸, ÑÐºÑ– Ñ€ÑÑ‚ÑƒÑŽÑ‚ÑŒ Ð¶Ð¸Ñ‚Ñ‚Ñ Ð² ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚. 3 ÑÐµÐºÑƒÐ½Ð´Ð¸ Ð¼Ñ–Ð¶ Ð¶Ð¸Ñ‚Ñ‚ÑÐ¼ Ñ– ÑÐ¼ÐµÑ€Ñ‚ÑŽ - Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ñ–!",
          longDescription: `ðŸš¨ ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐ Ð¡Ð˜Ð¢Ð£ÐÐ¦Ð†Ð¯: Ð£ Ð²Ð°Ñ Ñ” 3 Ð¡Ð•ÐšÐ£ÐÐ”Ð˜ Ñ‰Ð¾Ð± Ð²Ñ–Ð´Ñ€ÐµÐ°Ð³ÑƒÐ²Ð°Ñ‚Ð¸!

âš¡ Ð¨ÐžÐšÐ£Ð®Ð§Ð† Ð¤ÐÐšÐ¢Ð˜:
â€¢ 90% ÑÐ¼ÐµÑ€Ñ‚ÐµÐ»ÑŒÐ½Ð¸Ñ… Ð°Ð²Ð°Ñ€Ñ–Ð¹ Ð¼Ð¾Ð¶Ð½Ð° ÑƒÐ½Ð¸ÐºÐ½ÑƒÑ‚Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¼ Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½ÑÐ¼
â€¢ Ð‘Ñ–Ð»ÑŒÑˆÑ–ÑÑ‚ÑŒ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ñ–Ð² Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‚ÑŒ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ 30% Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ñ–Ð°Ð»Ñƒ Ð³Ð°Ð»ÑŒÐ¼
â€¢ Ð•ÐºÑÑ‚Ñ€ÐµÐ½Ðµ Ð¼Ð°Ð½ÐµÐ²Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ Ñ€ÑÑ‚ÑƒÑ” Ñ‚Ð°Ð¼, Ð´Ðµ Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ Ð½Ðµ Ð´Ð¾Ð¿Ð¾Ð¼Ð°Ð³Ð°Ñ”

âŒ ÐŸÐžÐœÐ˜Ð›ÐšÐ˜, Ð¯ÐšÐ† Ð’Ð‘Ð˜Ð’ÐÐ®Ð¢Ð¬:
âŒ "Ð¥Ð²Ð°Ñ‚Ð°Ð¹ÑÑ Ð·Ð° Ð³Ð°Ð»ÑŒÐ¼Ð°" Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ñ— Ñ‚ÐµÑ…Ð½Ñ–ÐºÐ¸
âŒ ÐŸÐ°Ð½Ñ–Ñ‡Ð½Ðµ Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð¿ÐµÑ€ÐµÐ´Ð½Ñ–Ð¼ ÐºÐ¾Ð»ÐµÑÐ¾Ð¼
âŒ Ð¡Ð¿Ñ€Ð¾Ð±Ð° Ð¿Ð¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€-Ñ€ÑƒÐ»ÑŒÐ¾Ð²Ð¾Ð³Ð¾ ÐºÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ
âŒ Ð’Ñ‚Ñ€Ð°Ñ‚Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽ Ð½Ð° Ð¼Ð¾ÐºÑ€Ñ–Ð¹ Ð´Ð¾Ñ€Ð¾Ð·Ñ–

âœ… ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐ† ÐÐÐ’Ð˜Ð§ÐšÐ˜ Ð”Ð›Ð¯ Ð’Ð˜Ð–Ð˜Ð’ÐÐÐÐ¯:
ðŸ›‘ Ð•ÐšÐ¡Ð¢Ð Ð•ÐÐ• Ð“ÐÐ›Ð¬ÐœÐ£Ð’ÐÐÐÐ¯ - Ð·ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ÑÑ Ð”Ðž Ð·Ñ–Ñ‚ÐºÐ½ÐµÐ½Ð½Ñ
ðŸŽ¯ ÐšÐžÐÐ¢Ð ÐžÐ›Ð¬ Ð¢Ð Ð‘ÐÐ›ÐÐÐ¡ - ÑÑ‚Ð°Ð±Ñ–Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ Ð² ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–ÑÑ…  
ðŸƒâ€â™‚ï¸ Ð£ÐÐ˜ÐšÐÐ•ÐÐÐ¯ Ð—Ð†Ð¢ÐšÐÐ•ÐÐ¬ - ÑˆÐ²Ð¸Ð´ÐºÐµ Ð¼Ð°Ð½ÐµÐ²Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ ÑÐº Ð¾ÑÑ‚Ð°Ð½Ð½Ñ–Ð¹ ÑˆÐ°Ð½Ñ

ðŸ”¥ Ð©Ðž Ð’Ð˜ ÐžÐ¢Ð Ð˜ÐœÐÐ„Ð¢Ð•:
â€¢ Ð¢ÐµÑ…Ð½Ñ–ÐºÐ¸ Ð¿Ñ€Ð¾Ñ„ÐµÑÑ–Ð¹Ð½Ð¸Ñ… Ð³Ð¾Ð½Ñ‰Ð¸ÐºÑ–Ð² Ð´Ð»Ñ ÐµÐºÑÑ‚Ñ€ÐµÐ½Ð¾Ð³Ð¾ Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ
â€¢ Ð¡ÐµÐºÑ€ÐµÑ‚Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð° Ð² ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–ÑÑ…
â€¢ ÐÐ°Ð²Ð¸Ñ‡ÐºÐ¸ ÑˆÐ²Ð¸Ð´ÐºÐ¾Ð³Ð¾ Ð¼Ð°Ð½ÐµÐ²Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ Ð´Ð»Ñ ÑƒÐ½Ð¸ÐºÐ½ÐµÐ½Ð½Ñ Ð·Ñ–Ñ‚ÐºÐ½ÐµÐ½ÑŒ
â€¢ ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡Ð½Ñ– Ð²Ð¿Ñ€Ð°Ð²Ð¸ Ð´Ð»Ñ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ð½Ð½Ñ Ð½Ð°Ð²Ð¸Ñ‡Ð¾Ðº

ðŸ’° Ð’ÐÐ Ð¢Ð†Ð¡Ð¢Ð¬ ÐŸÐžÐœÐ˜Ð›ÐšÐ˜: Ð’Ð°ÑˆÐµ Ð¶Ð¸Ñ‚Ñ‚Ñ
ðŸ’° Ð’ÐÐ Ð¢Ð†Ð¡Ð¢Ð¬ ÐšÐ£Ð Ð¡Ð£: Ð‘Ð•Ð—ÐšÐžÐ¨Ð¢ÐžÐ’ÐÐž

âš¡ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð’Ð¿ÐµÐ²Ð½ÐµÐ½Ñ–ÑÑ‚ÑŒ Ñ‚Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð² Ð±ÑƒÐ´ÑŒ-ÑÐºÑ–Ð¹ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ–Ð¹ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ñ–Ñ—!`,
          category: 'Ð¢ÐµÑ…Ð½Ñ–Ñ‡Ð½Ñ– Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸',
          whatYouLearn: [
            'ðŸ›‘ Ð¢ÐµÑ…Ð½Ñ–ÐºÑƒ ÐµÐºÑÑ‚Ñ€ÐµÐ½Ð¾Ð³Ð¾ Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ Ð· Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¸Ð¼ ÐµÑ„ÐµÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŽ',
            'ðŸŒ§ï¸ ÐžÑÐ¾Ð±Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ– Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ Ð½Ð° Ð¼Ð¾ÐºÑ€Ñ–Ð¹ Ñ‚Ð° ÑÐ»Ð¸Ð·ÑŒÐºÑ–Ð¹ Ð´Ð¾Ñ€Ð¾Ð·Ñ–',
            'ðŸ¤– ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ ABS vs Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ñ–Ð¹Ð½Ð¸Ñ… Ð³Ð°Ð»ÑŒÐ¼',
            'ðŸŽ¯ ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð° Ð½Ð° Ð½Ð¸Ð·ÑŒÐºÐ¸Ñ… ÑˆÐ²Ð¸Ð´ÐºÐ¾ÑÑ‚ÑÑ…',
            'âš–ï¸ Ð¢ÐµÑ…Ð½Ñ–ÐºÐ¸ ÑÑ‚Ð°Ð±Ñ–Ð»Ñ–Ð·Ð°Ñ†Ñ–Ñ— Ñ‚Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽ Ð±Ð°Ð»Ð°Ð½ÑÑƒ',
            'ðŸ’¨ Ð¨Ð²Ð¸Ð´ÐºÑƒ Ð·Ð¼Ñ–Ð½Ñƒ Ð½Ð°Ð¿Ñ€ÑÐ¼ÐºÑƒ Ð´Ð»Ñ ÑƒÐ½Ð¸ÐºÐ½ÐµÐ½Ð½Ñ Ð¿ÐµÑ€ÐµÑˆÐºÐ¾Ð´',
            'ðŸ”„ ÐœÐ°Ð¹ÑÑ‚ÐµÑ€Ð½Ñ–ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€-Ñ€ÑƒÐ»ÑŒÐ¾Ð²Ð¾Ð³Ð¾ ÐºÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ',
            'ðŸš€ ÐšÐ¾Ð¼Ð±Ñ–Ð½Ð¾Ð²Ð°Ð½Ñ– Ð¼Ð°Ð½ÐµÐ²Ñ€Ð¸: Ð³Ð°Ð»ÑŒÐ¼ÑƒÐ²Ð°Ð½Ð½Ñ + Ð¼Ð°Ð½ÐµÐ²Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ'
          ],
          requirements: [
            'ðŸï¸ Ð’Ð¿ÐµÐ²Ð½ÐµÐ½Ðµ ÐºÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð¾Ð¼ (Ð¼Ñ–Ð½Ñ–Ð¼ÑƒÐ¼ 1000 ÐºÐ¼ Ð´Ð¾ÑÐ²Ñ–Ð´Ñƒ)',
            'ðŸ’ª Ð¤Ñ–Ð·Ð¸Ñ‡Ð½Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŒ Ð´Ð¾ Ñ‚Ñ€ÐµÐ½ÑƒÐ²Ð°Ð½Ð½Ñ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… Ð½Ð°Ð²Ð¸Ñ‡Ð¾Ðº',
            'ðŸ§  Ð Ð¾Ð·ÑƒÐ¼Ñ–Ð½Ð½Ñ, Ñ‰Ð¾ Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑŒ Ð¿Ð¾ÑÑ‚Ñ–Ð¹Ð½Ð¾Ñ— Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸',
            'âš ï¸ Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð¾ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾Ð³Ð¾ Ð¼Ñ–ÑÑ†Ñ Ð´Ð»Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ (Ð¼Ð°Ð¹Ð´Ð°Ð½Ñ‡Ð¸Ðº/Ñ‚Ñ€Ð°ÑÐ°)'
          ]
        };
      case 'beginner-rider-guide':
        return {
          title: "ÐŸÐ¾Ð²Ð½Ð¸Ð¹ Ð³Ñ–Ð´ Ð´Ð»Ñ Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÑ–Ð²Ñ†Ñ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð°",
          description: "ðŸš€ Ð’Ñ–Ð´ ÐÐ£Ð›Ð¯ Ð´Ð¾ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾Ð³Ð¾ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð° Ð·Ð° 30 Ð´Ð½Ñ–Ð². Ð£Ð½Ð¸ÐºÐ½Ñ–Ñ‚ÑŒ Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº, ÑÐºÑ– ÐºÐ¾ÑˆÑ‚ÑƒÑŽÑ‚ÑŒ $10,000+ Ñ‚Ð° Ñ€Ð¾ÐºÐ¸ Ð±Ð¾Ð»ÑŽ!",
          longDescription: `ðŸš¨ Ð¡Ð¢ÐÐ¢Ð˜Ð¡Ð¢Ð˜ÐšÐ, Ð¯ÐšÐ Ð¨ÐžÐšÐ£Ð„:
â€¢ 67% Ð½Ð¾Ð²Ð°Ñ‡ÐºÑ–Ð² ÐºÐ¸Ð´Ð°ÑŽÑ‚ÑŒ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ» Ð² Ð¿ÐµÑ€ÑˆÑ– 6 Ð¼Ñ–ÑÑÑ†Ñ–Ð²
â€¢ 45% ÐºÑƒÐ¿ÑƒÑŽÑ‚ÑŒ ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐ˜Ð™ Ð¿ÐµÑ€ÑˆÐ¸Ð¹ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»
â€¢ 78% Ð²Ð¸Ñ‚Ñ€Ð°Ñ‡Ð°ÑŽÑ‚ÑŒ $3,000+ Ð½Ð° Ð½ÐµÐ¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ðµ ÐµÐºÑ–Ð¿Ñ–Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ
â€¢ 89% Ñ€Ð¾Ð±Ð»ÑÑ‚ÑŒ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ– Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸ Ð² Ð¿ÐµÑ€ÑˆÑ– Ð¿Ð¾Ñ—Ð·Ð´ÐºÐ¸

ðŸ’° Ð¡ÐšÐ†Ð›Ð¬ÐšÐ˜ ÐšÐžÐ¨Ð¢Ð£Ð®Ð¢Ð¬ ÐŸÐžÐœÐ˜Ð›ÐšÐ˜:
âŒ ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»: $5,000-15,000 Ð²Ñ‚Ñ€Ð°Ñ‚
âŒ ÐÐµÑÐºÑ–ÑÐ½Ðµ ÐµÐºÑ–Ð¿Ñ–Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ: $2,000-5,000 + Ð²Ð°ÑˆÐµ Ð·Ð´Ð¾Ñ€Ð¾Ð²'Ñ
âŒ ÐÐ²Ð°Ñ€Ñ–Ñ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÐ·Ð½Ð°Ð½Ð½Ñ: $10,000-100,000+ Ð»Ñ–ÐºÑƒÐ²Ð°Ð½Ð½Ñ
âŒ Ð’Ñ‚Ñ€Ð°Ñ‚Ð° Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ð¾ÑÑ‚Ñ–: Ñ€Ð¾ÐºÐ¸ ÑÑ‚Ñ€Ð°Ñ…Ñƒ Ñ‚Ð° Ð¾Ð±Ð¼ÐµÐ¶ÐµÐ½ÑŒ

âœ… ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐ˜Ð™ Ð¡Ð¢ÐÐ Ð¢ - 3 Ð•Ð¢ÐÐŸÐ˜:
ðŸï¸ Ð’Ð˜Ð‘Ð†Ð  ÐœÐžÐ¢ÐžÐ¦Ð˜ÐšÐ›Ð - ÑÐºÐ¸Ð¹ Ð½Ð°ÑÐ¿Ñ€Ð°Ð²Ð´Ñ– Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±ÐµÐ½ Ð½Ð¾Ð²Ð°Ñ‡ÐºÑƒ
ðŸ›¡ï¸ Ð•ÐšÐ†ÐŸÐ†Ð Ð£Ð’ÐÐÐÐ¯ - Ñ‰Ð¾ Ð½Ð°ÑÐ¿Ñ€Ð°Ð²Ð´Ñ– Ð·Ð°Ñ…Ð¸Ñ‰Ð°Ñ” vs Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³
ðŸš€ ÐŸÐ•Ð Ð¨Ð† ÐšÐ ÐžÐšÐ˜ - Ð²Ñ–Ð´ Ð¼Ð¾Ñ‚Ð¾ÑˆÐºÐ¾Ð»Ð¸ Ð´Ð¾ Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ð¾Ñ— Ñ—Ð·Ð´Ð¸

ðŸ”¥ Ð©Ðž Ð’Ð˜ ÐžÐ¢Ð Ð˜ÐœÐÐ„Ð¢Ð•:
â€¢ ÐŸÐ¾ÐºÑ€Ð¾ÐºÐ¾Ð²Ñƒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐžÐ“Ðž Ð¿ÐµÑ€ÑˆÐ¾Ð³Ð¾ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð°
â€¢ Ð¡ÐµÐºÑ€ÐµÑ‚Ð¸ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ ÐµÐºÑ–Ð¿Ñ–Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ, ÑÐºÑ– Ð·Ð½Ð°ÑŽÑ‚ÑŒ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð¿Ñ€Ð¾Ñ„ÐµÑÑ–Ð¾Ð½Ð°Ð»Ð¸
â€¢ ÐŸÐ»Ð°Ð½ Ð¿ÐµÑ€ÑˆÐ¸Ñ… 30 Ð´Ð½Ñ–Ð² Ð´Ð»Ñ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾Ð³Ð¾ Ð²Ñ…Ð¾Ð´Ð¶ÐµÐ½Ð½Ñ Ð² Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»ÐµÑ‚Ð½Ð¸Ð¹ ÑÐ²Ñ–Ñ‚
â€¢ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¸Ñ… Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº Ñ‚Ð° ÑÐº Ñ—Ñ… ÑƒÐ½Ð¸ÐºÐ½ÑƒÑ‚Ð¸

ðŸ’° Ð•ÐšÐžÐÐžÐœÐ†Ð¯: $10,000-20,000 Ð½Ð° Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ñ… Ñ€Ñ–ÑˆÐµÐ½Ð½ÑÑ…
ðŸ’° Ð’ÐÐ Ð¢Ð†Ð¡Ð¢Ð¬ ÐšÐ£Ð Ð¡Ð£: Ð‘Ð•Ð—ÐšÐžÐ¨Ð¢ÐžÐ’ÐÐž

âš¡ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢: Ð’Ð¿ÐµÐ²Ð½ÐµÐ½Ð¸Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ Ð±ÐµÐ· Ð´Ð¾Ñ€Ð¾Ð³Ð¸Ñ… Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº!`,
          category: 'Ð”Ð»Ñ Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÑ–Ð²Ñ†Ñ–Ð²',
          whatYouLearn: [
            'ðŸï¸ Ð¯Ðº Ð²Ð¸Ð±Ñ€Ð°Ñ‚Ð¸ ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐ˜Ð™ Ð¿ÐµÑ€ÑˆÐ¸Ð¹ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ» (ÐµÐºÐ¾Ð½Ð¾Ð¼Ñ–Ñ $5,000-10,000)',
            'ðŸ“Š Ð¡Ð¿Ñ–Ð²Ð²Ñ–Ð´Ð½Ð¾ÑˆÐµÐ½Ð½Ñ Ð¿Ð¾Ñ‚ÑƒÐ¶Ð½Ð¾ÑÑ‚Ñ– Ñ‚Ð° Ð´Ð¾ÑÐ²Ñ–Ð´Ñƒ Ð´Ð»Ñ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾Ð³Ð¾ ÑÑ‚Ð°Ñ€Ñ‚Ñƒ',
            'ðŸ’° Ð‘/Ñƒ vs Ð½Ð¾Ð²Ð¸Ð¹: Ñ‰Ð¾ Ð½Ð°ÑÐ¿Ñ€Ð°Ð²Ð´Ñ– Ð²Ð¸Ð³Ñ–Ð´Ð½Ñ–ÑˆÐµ Ð´Ð»Ñ Ð½Ð¾Ð²Ð°Ñ‡ÐºÐ°',
            'ðŸ›¡ï¸ Ð¤Ñ–Ð»Ð¾ÑÐ¾Ñ„Ñ–ÑŽ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ ÐµÐºÑ–Ð¿Ñ–Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ: Ð·Ð°Ñ…Ð¸ÑÑ‚ vs ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚ vs Ñ†Ñ–Ð½Ð°',
            'ðŸª– Ð¯Ðº Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¿Ñ–Ð´Ñ–Ð±Ñ€Ð°Ñ‚Ð¸ ÑˆÐ¾Ð»Ð¾Ð¼ Ñ‚Ð° Ñ‡Ð¾Ð¼Ñƒ Ñ†Ðµ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð²Ð°Ð¶Ð»Ð¸Ð²Ð¾',
            'ðŸ‘• Ð¡ÐµÐºÑ€ÐµÑ‚Ð¸ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ Ð·Ð°Ñ…Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð¾Ð´ÑÐ³Ñƒ Ñ‚Ð° Ð²Ð·ÑƒÑ‚Ñ‚Ñ',
            'ðŸŽ¯ ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ñ–Ñ‡Ð½Ñƒ Ð¿Ñ–Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÑƒ Ñ‚Ð° Ð¿Ð¾Ð±ÑƒÐ´Ð¾Ð²Ñƒ Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ð¾ÑÑ‚Ñ–',
            'ðŸ“ ÐŸÐ»Ð°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿ÐµÑ€ÑˆÐ¸Ñ… Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¸Ñ… Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ–Ð² Ñ‚Ð° Ð¿Ð¾Ñ—Ð·Ð´Ð¾Ðº'
          ],
          requirements: [
            'ðŸ†” ÐŸÑ€Ð°Ð²Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ñ–Ñ— A Ð°Ð±Ð¾ A2 (Ð°Ð±Ð¾ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑ– Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ)',
            'ðŸ’° Ð‘ÑŽÐ´Ð¶ÐµÑ‚ $3,000-15,000 Ð½Ð° Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ» Ñ‚Ð° ÐµÐºÑ–Ð¿Ñ–Ñ€ÑƒÐ²Ð°Ð½Ð½Ñ',
            'ðŸ§  Ð“Ð¾Ñ‚Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŒ Ð²Ñ‡Ð¸Ñ‚Ð¸ÑÑ Ñ‚Ð° ÑÐ»Ñ–Ð´ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ñ–ÑÐ¼',
            'â° Ð§Ð°Ñ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ…Ð¾Ð´Ð¶ÐµÐ½Ð½Ñ Ð² Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»ÐµÑ‚Ð½Ð¸Ð¹ ÑÐ²Ñ–Ñ‚'
          ]
        };
      default:
        return {
          title: "ÐšÑƒÑ€Ñ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð°",
          description: "ÐÐ°Ð²Ñ‡Ñ–Ñ‚ÑŒÑÑ Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¾ ÐºÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ð¾Ð¼",
          longDescription: "ÐŸÐ¾Ð²Ð½Ð¸Ð¹ ÐºÑƒÑ€Ñ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ Ð¼Ð¾Ñ‚Ð¾Ñ†Ð¸ÐºÐ»Ñ–ÑÑ‚Ð°",
          category: 'Ð—Ð°Ð³Ð°Ð»ÑŒÐ½Ð¸Ð¹',
          whatYouLearn: ['ÐžÑÐ½Ð¾Ð²Ð¸ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸'],
          requirements: ['Ð‘Ð°Ð·Ð¾Ð²Ñ– Ð½Ð°Ð²Ð¸Ñ‡ÐºÐ¸']
        };
    }
  };

  const courseSpecificData = getCourseData(course.slug);

  // Transform course data for client component
  const courseData = {
    id: course.id,
    slug: course.slug,
    title: course.translations[0]?.title || courseSpecificData.title,
    description: course.translations[0]?.description || courseSpecificData.description,
    longDescription: course.translations[0]?.description || courseSpecificData.longDescription,
    category: courseSpecificData.category,
    difficulty: 'BEGINNER',
    duration: `${Math.ceil(totalDuration / 60)} Ð³Ð¾Ð´Ð¸Ð½`,
    totalHours: Math.ceil(totalDuration / 60),
    lessons: totalLessons,
    students: course.enrollments.length,
    rating: averageRating,
    totalReviews: course.reviews.length,
    isPremium: course.price > 0,
    price: course.price,
    testId: null,
    instructor: {
      name: 'Ð§Ð¸Ð½Ð³Ñ–Ð· Ð‘Ð°Ñ€Ñ–Ð½Ð¾Ð²',
      title: 'ðŸ† Ð—Ð°ÑÐ½Ð¾Ð²Ð½Ð¸Ðº ÐÐµÐ±Ð°Ñ‡Ð¸Ð² | Ð•ÐºÑÐ¿ÐµÑ€Ñ‚ Ð²Ð¸Ð¶Ð¸Ð²Ð°Ð½Ð½Ñ Ð½Ð° Ð´Ð¾Ñ€Ð¾Ð·Ñ–',
      bio: 'ðŸŽ¯ 18 Ñ€Ð¾ÐºÑ–Ð² Ð¼Ñ–ÑÑŒÐºÐ¾Ñ— Ñ—Ð·Ð´Ð¸ | ðŸ“Š 200,000+ ÐºÐ¼ Ð‘Ð•Ð— Ð°Ð²Ð°Ñ€Ñ–Ð¹ | ðŸ§  ÐÐ½Ð°Ð»Ñ–Ð·ÑƒÐ²Ð°Ð² 1000+ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¸Ñ… Ð”Ð¢ÐŸ | ðŸ’¡ Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ, Ñ‰Ð¾ Ð²Ñ€ÑÑ‚ÑƒÐ²Ð°Ð»Ð° ÑÐ¾Ñ‚Ð½Ñ– Ð¶Ð¸Ñ‚Ñ‚Ñ–Ð²',
      image: '/instructor.jpg'
    },
    whatYouLearn: course.translations[0]?.learningOutcomes 
      ? JSON.parse(course.translations[0].learningOutcomes) 
      : courseSpecificData.whatYouLearn,
    requirements: course.translations[0]?.requirements 
      ? JSON.parse(course.translations[0].requirements) 
      : courseSpecificData.requirements,
    sections: course.sections.map(section => ({
      id: section.id,
      title: section.title,
      description: section.description, // Add section description
      lessons: section.items.map(item => {
        const lessonProgress = userProgress.find(p => p.contentId === item.contentId)
        
        // Extract real lesson title from KB_NEB metadata
        let lessonTitle = `Ð£Ñ€Ð¾Ðº ${item.order}`;
        if (item.content?.kbNebMetadata) {
          try {
            const metadata = JSON.parse(item.content.kbNebMetadata);
            lessonTitle = metadata.title || lessonTitle;
          } catch (e) {
            console.warn('Could not parse KB_NEB metadata for item', item.id);
          }
        }
        
        return {
          id: item.id,
          title: lessonTitle,
          duration: `15 Ñ…Ð²`,
          isCompleted: lessonProgress?.status === 'COMPLETED' || false,
          isFree: true
        }
      })
    }))
  }

  return (
    <CoursePageClient 
      course={courseData}
      isEnrolled={!!enrollment}
      progress={progress}
      session={session}
    />
  )
}